language: cpp
sudo: required
dist: trusty
os:
  - linux
  - osx

addons:
 apt:
  packages:
   - libopenmpi-dev
   - openmpi-bin
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install open-mpi; fi
  - test -n $CC && unset CC
  - test -n $CXX && unset CXX

script:
  - mkdir build
  - cd build
  - cmake .. && make
  - ctest
